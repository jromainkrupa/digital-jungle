<% locales = { 
  colors: {
    logo_color: "white",
  },
} %>

<header class="bg-cover h-72 bg-center" style="background-image:linear-gradient(180deg, rgba(3, 10, 3, 0.64) -6.12%, rgba(3, 10, 3, 0) 122.24%), url('<%= @workshop_booking.workshop.image_url %>');">
  <div class="w-full lg:px-8 px-4 ">
    <%= render "shared/navbar", locales: locales %>
  </div>
</header>

<main class="flex flex-col items-center">
  <div class="mx-4 lg:mx-8 " style="min-width:75%">
    <div class="grid-cols-6 mx-auto gap-24 grid w-full">
      <div class="col-span-3 -mt-32" >
        <div class="bg-white rounded-xl px-8 py-8 shadow flex flex-col items-start justify-start">
          <h1 class="h3 mt-2 text-clover-900">
            <%= current_user.full_name %>
          </h1>
          <div class="flex mt-4 items-center justify-start">
            <%= render_svg "icons/mail", styles:"h-4 w-4" %>
            <p class="font-semibold ml-4"><%= current_user.email %></p>
          </div>
          <div class="flex mt-4 items-center justify-start">
            <%= render_svg "icons/phone", styles:"h-4 w-4" %>
            <p class="font-semibold ml-4"><%= current_user.phone_number %></p>
          </div>    
        </div>
        <div class=" flex flex-col py-24 px-8 col-span-3 pr-24" style="">
          <h2 class="h4 mt-2 text-clover-900">
            <%= @next_workshop.name %>
          </h2>
          <div class="mt-4 flex items-center justify-start">
            <%= render_svg "icons/calendar", styles:"h-4 w-4" %>
            <p class="font-semibold ml-4"><%= @next_workshop.start_date.strftime('%d %B %Y - %Hh%M') %></p>
          </div>
          <div class="flex mt-4 items-center justify-start">
            <%= render_svg "icons/location", styles:"h-4 w-4" %>
            <p class="font-semibold ml-4"><%= @next_workshop.address %></p>
          </div>
          <div class="flex mt-4 items-center justify-start">
            <%= render_svg "icons/clock", styles:"h-4 w-4" %>
            <p class="font-semibold ml-4"><%= @next_workshop.duration % 7 == 0 ? "1 journée" : "1/2 journée" %></p>
          </div>
          
          <div class="mt-24 ">
            <p class="text-lg font-semibold ">Places disponibles: <%= @next_workshop.capacity - @next_workshop.users.size %></p class="text-lg ">
            <p class="mt-2">Amet minim mollit non deserunt ullamco est sit aliqua dolor do amet sint. Velit officia consequat duis enim velit mollit.</p>
          </div>
        </div>
      </div>
      <div class="pl-12 flex flex-col py-24 col-span-3 text-center " style="">
        <div class="flex flex-col rounded-lg shadow overflow-hidden">
          <div class="flex-shrink-0">
            <div class="relative h-48 w-full bg-center bg-cover" style="background-image: url('<%= @next_workshop.image_url %>');">
              <div class="absolute left-1/2 w-full" style="top:11.25rem;">
                <div class="relative -left-1/2 flex items-center  justify-center">
                  <span class=" px-3 py-0.5 rounded-full text-sm font-medium bg-roman-500 text-white">
                    <%= @next_workshop.duration % 7 == 0 ? "1 journée" : "1/2 journée" %>
                  </span>
                  <% if current_user.is_approved_for_workshop %>
                    <span class=" ml-4 px-3 py-0.5 rounded-full text-sm font-medium bg-green-500 text-white">
                      Inscription validée
                    </span>
                  <% else %>
                    <span class=" ml-4 px-3 py-0.5 rounded-full text-sm font-medium bg-gold text-white">
                      En attente de contact
                    </span>
                  <% end %>
                </div>
              </div>
            </div>
          </div>
          <div class="flex-1 text-center bg-white px-6 py-10 flex flex-col justify-between">
            <div class="flex-1 ">
              <%= link_to workshop_path(@next_workshop), class:"block mt-2"  do %>
                <p class="text-xl font-semibold text-gray-900">
                  <%= @next_workshop.name %>
                </p>
              <% end %>
            </div>
            <div class="mt-6 flex justify-center w-full items-center">
              <div class="">
                <%= link_to "En savoir plus", workshop_path(@next_workshop), class:"btn btn-primary outlined" %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
